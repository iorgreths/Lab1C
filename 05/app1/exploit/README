Inhalt:
------------------------------
1: Schwachstelle
2: Compilen der Programme
3: Verwenden der Programme
4: Ausnutzen der Schwachstelle

==================================================

1: Schwachstelle
------------------------------

Die Schwachstelle besteht darin, dass der Input fuer die Gaestebucheintraege vor der Verwendung nicht validiert wird. Somit koennen beispielsweise ueber RAW-HTML beliebige Javascripts ins Gaestebuch eingetragen werden.
Diese Javascripts werden dann beim User, welcher sich das Gaestebuch ansieht, lokal ausgefuehrt.

Die Schwachstelle befindet sich bei ca. Zeile 100 im verwundbaren Programm.

==================================================

2: Compilen der Programme
------------------------------

Im Ordner "exploit" (in dem sich auch dieses README befinden sollte) liegen zwei Shell-Scripts, welche zum Erstellen der jeweiligen JAR-Dateien verwendet werden koennen.

Voraussetzung dafuer ist, dass Java (mit 8 getestet, sollte aber auch mit 7 und evtl. 6 laufen) installiert ist.

==================================================

3: Verwenden der Programme
------------------------------

Beide Programme koennen entweder ohne Parameter oder mit genau einem Parameter aufgerufen werden:

java -jar fixedApp01.jar
java -jar fixedApp01.jar "THIS IS MY AWESOME GUESTBOOK ENTRY"

In erstem Fall wird auf STDOUT eine HTML-Page ausgegeben, welche alle bisher gespeicherten Gaestebucheintraege beinhaelt. Diese Ausgabe kann natuerlich in eine Datei umgeleitet werden, welche dann mit einem Browser (getestet mit Firefox) geoeffnet werden kann:

java -jar fixedApp01.jar > guestbook.html

Die zweite Variante des Programmaufrufs nimmt den angegebenen Parameter und speichert ihn als neuen Gaestebucheintrag ab.
Dieser Eintrag wird dann beim naechsten Aufruf des Programms ohne Parameter zusaetzlich zu den anderen Gaestebucheintraegen ausgegeben.

==================================================

4: Ausnutzen der Schwachstelle
------------------------------

Um die Schwachstelle auszunutzen, kann das (verletzbare) Programm beispielsweise folgendermaszen aufgerufen werden:

java -jar vulnApp01.jar '<script>alert("vulnerable");</script>'

Nun sollte beim naechsten Aufruf des Programms ohne Parametern ein HTML generiert werden, das nach Oeffnen mit einem Browser, welcher Javascript unterstuetzt und aktiviert hat, ein Alert-Fenster mit dem String "vulnerable" erscheinen.
Dies bestaetigt die Verwundbarkeit des Programms.

Bei der gefixten Version (wo der Input saniert wird) sollte dieses Verhalten nicht mehr auftreten.
